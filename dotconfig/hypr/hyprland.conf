## vim: set fenc=utf-8 ts=4 sw=0 sts=0 sr et si tw=0 fdm=marker fmr={{{,}}}:
##
## hyprland.conf by Andy3153
## created   06/07/23 ~ 01:51:42
##

# {{{ Monitor settings
# name,resolution,position,scale
# eDP-1,1920x1080@240,0x0,1
monitor      = ,preferred,auto,1
# }}}

# {{{ Autostart
exec-once    = canberra-gtk-play --file ~/.local/share/sounds/linuxmint/login.oga # Startup sound
exec-once    = swayidle                                                           # Idle management daemon
exec-once    = swayosd --max-volume 150                                           # On-screen display
exec-once    = /usr/lib/polkit-kde-authentication-agent-1                         # Polkit prompt
exec-once    = xwaylandvideobridge                                                # XWayland Video Bridge
exec-once    = ~/.config/waybar/launch-waybar                                     # Status bar
exec-once    = hyprpaper                                                          # Wallpaper
exec-once    = dunst                                                              # Notification daemon
exec-once    = checkFan.sh --in-notification                                      # Fan control notification
exec-once    = openrgb --startminimized                                           # OpenRGB
exec-once    = /usr/lib/kdeconnectd                                               # KDE Connect
exec-once    = mpd-discord-rpc                                                    # MPD Discord RPC

# {{{ For setting the GTK theme
exec-once    = "gsettings set org.gnome.desktop.interface gtk-theme 'Catppuccin-Mocha'"
exec-once    = "gsettings set org.gnome.desktop.interface icon-theme 'Papirus-Colors-Dark'"
exec-once    = "gsettings set org.gnome.desktop.interface cursor-theme 'Adwaita'"
exec-once    = "gsettings set org.gnome.desktop.interface font-name 'Cantarell'"
# }}}

# {{{ Things that need to be moved to a specific workspace upon autostart
# {{{ qBittorrent
windowrulev2 = workspace 7 silent, class:(org.qbittorrent.qBittorrent)
exec-once    = qbittorrent
exec-once    = sleep 5s ; hyprctl keyword windowrulev2 "workspace unset, class:(org.qbittorrent.qBittorrent)"
# }}}

# {{{ XWayland Video Bridge
windowrulev2 = workspace 7 silent, class:(xwaylandvideobridge)
exec-once    = xwaylandvideobridge
exec-once    = sleep 5s ; hyprctl keyword windowrulev2 "workspace unset, class:(xwaylandvideobridge)"
# }}}
# }}}
# }}}

# {{{ Environment variables
env          = GDK_BACKEND,          wayland,x11
env          = QT_QPA_PLATFORM,      wayland;xcb
env          = QT_QPA_PLATFORMTHEME, qt5ct
env          = SDL_VIDEODRIVER,      wayland
env          = CLUTTER_BACKEND,      wayland
env          = GTK_THEME,            Catppuccin-Mocha
# }}}

# {{{ Colorscheme
source       = ~/.config/hypr/colorschemes/catpucchin-mocha.conf
# }}}

# {{{ General settings
general {
    # Tiling layout
    layout                   = master #dwindle

    # Window gaps
    gaps_in                  = 10
    gaps_out                 = 20

    # Border
    border_size              = 2
    resize_on_border         = true

    # Colors
    col.active_border        = $blue $mauve 45deg
    col.inactive_border      = $surface0
}
# }}}

# {{{ Input
input {
    # Keyboard
    kb_layout                = us,ro
    kb_variant               = ,std
    kb_options               = grp:alt_shift_toggle
    numlock_by_default       = true
    repeat_rate              = 20
    repeat_delay             = 300

    # Focus
    follow_mouse             = 1

    # Mouse
    accel_profile            = flat
    natural_scroll           = false
    sensitivity              = 0.1

    touchpad {
        disable_while_typing    = false
        middle_button_emulation = true
        natural_scroll          = false
        tap-to-click            = true
    }
}

device:elan1203:00-04f3:307a-touchpad {
    accel_profile            = adaptive
    sensitivity              = 0.6
}
# }}}

# {{{ Decorations
decoration {
    # Border corner rounding
    rounding                 = 10

    # Blur
    blur {
        enabled              = true
        new_optimizations    = true

        size                 = 5
        passes               = 1
        noise                = 0.1
    }

    # Shadows
    drop_shadow              = true
    shadow_range             = 4
    shadow_render_power      = 3
    col.shadow               = rgba(1a1a1aee)

    # Window dimming
    dim_inactive             = false
    dim_strength             = 0.2
}
# }}}

# {{{ Animations
animations {
    enabled                  = true
}
# }}}

# {{{ Touchpad gestures
gestures {
    workspace_swipe          = true
    workspace_swipe_fingers  = 4
    workspace_swipe_distance = 800
    workspace_swipe_forever  = false
    workspace_swipe_numbered = true
}
# }}}

# {{{ Miscellaneous
misc {
    disable_hyprland_logo    = true
    animate_manual_resizes   = true
    vfr                      = true

    enable_swallow           = true
    swallow_regex            =^(kitty)$
}
# }}}

# {{{ Master tiling layout settings
master {
    allow_small_split        = true
    new_is_master            = false
    mfact                    = 0.5
    orientation              = left
}
# }}}

# {{{ Dwindle tiling layout settings
dwindle {
    force_split              = 2    # kinda spiral tiling layout
    preserve_split           = true
}
# }}}

# {{{ Keybinds
# Variable for main modkey
$mod  = SUPER

# {{{ Applications
bind  = $mod,            return,                exec,            kitty                      # terminal
bind  = $mod,            space,                 exec,            fuzzel                     # runner
bind  = $mod,            e,                     exec,            dolphin                    # file manager
bind  = ,                print,                 exec,            grim                       # screenshot
bind  = $mod,            backslash,             exec,            neovide --multigrid        # neovide
bind  = $mod_SHIFT,      backslash,             exec,            kitty -e nvim              # neovim in kitty
# }}}

# {{{ Others
bind  = CTRL_SHIFT,      q,                     killactive,                                 # close
bind  = CTRL_SHIFT_$mod, p,                     exec,            nwg-bar                    # power menu
bind  = CTRL_SHIFT_$mod, r,                     exec,            hyprctl reload             # reload config
bind  = CTRL_SHIFT_$mod, d,                     exec,            dunstctl set-paused toggle # DND mode
bind  = CTRL_ALT,        l,                     exec,            swaylock                   # lock screen
bind  = $mod_SHIFT,      return,                togglefloating,                             # floating window
bind  = $mod,            p,                     pin,                                        # pin window
bind  = $mod,            m,                     fullscreen,      1                          # maximize
bind  = $mod,            f,                     fullscreen,      0                          # fullscreen

# Best attempt at replicating KDE suspend compositing
bind  = CTRL_SHIFT_$mod, c,                     exec,            hyprctl --batch "keyword animations:enabled 0; keyword decoration:drop_shadow 0; keyword decoration:blur 0; keyword decoration:rounding 0; keyword windowrulev2 opaque,class:(.*)"
# }}}

# {{{ Media keys
# {{{ Volume keys
binde = ,                XF86AudioRaiseVolume,  exec,            swayosd --output-volume raise & canberra-gtk-play --file ~/.local/share/sounds/freedesktop/audio-volume-change.oga
binde = ,                XF86AudioLowerVolume,  exec,            swayosd --output-volume lower & canberra-gtk-play --file ~/.local/share/sounds/freedesktop/audio-volume-change.oga
bind  = ,                XF86AudioMute,         exec,            swayosd --output-volume mute-toggle
# }}}

# {{{ Microphone keys
binde = SHIFT,           XF86AudioRaiseVolume,  exec,            swayosd --input-volume raise
binde = SHIFT,           XF86AudioLowerVolume,  exec,            swayosd --input-volume lower
bind  = SHIFT,           XF86AudioMute,         exec,            swayosd --input-volume mute-toggle
# }}}

# {{{ Brightness keys
binde = ,                XF86MonBrightnessUp,   exec,            brightnessctl set 5%+
binde = ,                XF86MonBrightnessDown, exec,            brightnessctl set 5%-
# }}}

# {{{ Media control keys
#
binde = Ctrl,            XF86AudioRaiseVolume,  exec,            playerctl next
binde = Ctrl,            XF86AudioLowerVolume,  exec,            playerctl previous
bind  = Ctrl,            XF86AudioMute,         exec,            playerctl play-pause
# }}}
# }}}

# {{{ Windows
# {{{ Window focus
bind  = $mod,            h,                     movefocus,       l
bind  = $mod,            l,                     movefocus,       r
bind  = $mod,            k,                     movefocus,       u
bind  = $mod,            j,                     movefocus,       d
# }}}

# {{{ Window movement
bind  = $mod_SHIFT,      h,                     swapwindow,      l
bind  = $mod_SHIFT,      l,                     swapwindow,      r
bind  = $mod_SHIFT,      k,                     swapwindow,      u
bind  = $mod_SHIFT,      j,                     swapwindow,      d

bind  = ALT,             Tab,                   cyclenext,
bind  = ALT,             Tab,                   bringactivetotop,
# }}}

# {{{ Window resizing
binde = CTRL_$mod,       h,                     splitratio,      -0.03
binde = CTRL_$mod,       l,                     splitratio,      0.03
binde = CTRL_$mod,       k,                     splitratio,      -0.03
binde = CTRL_$mod,       j,                     splitratio,      0.03
# }}}

# {{{ Switch workspaces
bind  = $mod,            1,                     workspace,       1
bind  = $mod,            2,                     workspace,       2
bind  = $mod,            3,                     workspace,       3
bind  = $mod,            4,                     workspace,       4
bind  = $mod,            5,                     workspace,       5
bind  = $mod,            6,                     workspace,       6
bind  = $mod,            7,                     workspace,       7
bind  = $mod,            8,                     workspace,       8
bind  = $mod,            9,                     workspace,       9
bind  = $mod,            0,                     workspace,       10
# }}}

# {{{ Move window to workspace
bind  = $mod_SHIFT,      1,                     movetoworkspace, 1
bind  = $mod_SHIFT,      2,                     movetoworkspace, 2
bind  = $mod_SHIFT,      3,                     movetoworkspace, 3
bind  = $mod_SHIFT,      4,                     movetoworkspace, 4
bind  = $mod_SHIFT,      5,                     movetoworkspace, 5
bind  = $mod_SHIFT,      6,                     movetoworkspace, 6
bind  = $mod_SHIFT,      7,                     movetoworkspace, 7
bind  = $mod_SHIFT,      8,                     movetoworkspace, 8
bind  = $mod_SHIFT,      9,                     movetoworkspace, 9
bind  = $mod_SHIFT,      0,                     movetoworkspace, 10
# }}}

# {{{ Move/resize windows with mouse
bindm = $mod,            mouse:272,             movewindow
bindm = $mod,            mouse:273,             resizewindow
# }}}
# }}}

# {{{ Master tiling layout
bind  = $mod,            b,                     layoutmsg,       orientationnext
bind  = $mod_SHIFT,      b,                     layoutmsg,       orientationprev
bind  = $mod,            v,                     layoutmsg,       addmaster
bind  = $mod_SHIFT,      v,                     layoutmsg,       removemaster
# }}}
# }}}

# {{{ Window rules
# {{{ Make fullscreen windows idle inhibit
windowrulev2 =                                    idleinhibit fullscreen, class:(.*)
# }}}

# {{{ Make some windows float
windowrulev2 = float,                             class:(org.kde.polkit-kde-authentication-agent-1)
windowrulev2 = center,                            class:(org.kde.polkit-kde-authentication-agent-1)

windowrulev2 = float,                             class:(pavucontrol-qt)
windowrulev2 = size 75% 75%,                      class:(pavucontrol-qt)
windowrulev2 = center,                            class:(pavucontrol-qt)

windowrulev2 = float,                             class:(blueman-manager)
windowrulev2 = size 75% 75%,                      class:(blueman-manager)
windowrulev2 = center,                            class:(blueman-manager)
# }}}

# {{{ Cava
windowrulev2 = float,                             class:(kitty),title:(cava)
windowrulev2 = pin,                               class:(kitty),title:(cava)
windowrulev2 = noanim,                            class:(kitty),title:(cava)
windowrulev2 = noblur,                            class:(kitty),title:(cava)
windowrulev2 = noborder,                          class:(kitty),title:(cava)
windowrulev2 = nodim,                             class:(kitty),title:(cava)
windowrulev2 = nofocus,                           class:(kitty),title:(cava)
windowrulev2 = noinitialfocus,                    class:(kitty),title:(cava)
windowrulev2 = noshadow,                          class:(kitty),title:(cava)
windowrulev2 = rounding 0,                        class:(kitty),title:(cava)
windowrulev2 = size 100% 50%,                     class:(kitty),title:(cava)
windowrulev2 = move 0% 50.2%,                     class:(kitty),title:(cava)
# }}}

# {{{ XWayland Video Bridge
windowrulev2 = opacity 0.0 override 0.0 override, class:^(xwaylandvideobridge)$
windowrulev2 = noanim,                            class:^(xwaylandvideobridge)$
windowrulev2 = nofocus,                           class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus,                    class:^(xwaylandvideobridge)$
# }}}
# }}}
