## vim: set fenc=utf-8 ts=4 sw=0 sts=0 sr et si tw=0 fdm=marker fmr={{{,}}}:
##
## hyprland.conf by Andy3153
## created   06/07/23 ~ 01:51:42
##

# {{{ Monitor settings
# name,resolution,position,scale
# eDP-1,1920x1080@240,0x0,1
monitor=,preferred,auto,1
# }}}

# {{{ Autostart
exec-once = canberra-gtk-play --file ~/.local/share/sounds/linuxmint/login.oga # Startup sound
exec-once = swayidle                                                           # Idle management daemon
exec-once = /usr/lib/polkit-kde-authentication-agent-1                         # Polkit prompt
exec-once = xwaylandvideobridge                                                # XWayland Video Bridge
exec-once = ~/.config/waybar/launch-waybar                                     # Status bar
exec-once = hyprpaper                                                          # Wallpaper
exec-once = dunst                                                              # Notification daemon
exec-once = checkFan.sh --in-notification                                      # Fan control notification
exec-once = openrgb --startminimized                                           # OpenRGB
# }}}

# {{{ Environment variables
env = QT_QPA_PLATFORM,wayland
env = QT_QPA_PLATFORMTHEME,qt5ct
# }}}

# {{{ Colorscheme
source = ~/.config/hypr/colorschemes/catpucchin-mocha.conf
# }}}

# {{{ General settings
general {
    # Tiling layout
    layout = master #dwindle

    # Window gaps
    gaps_in = 10
    gaps_out = 20

    # Border
    border_size         = 2
    resize_on_border    = true

    # Colors
    col.active_border   = $blue $mauve 45deg
    col.inactive_border = $surface0
}
# }}}

# {{{ Input
input {
    # Keyboard
    kb_layout          = us,ro
    numlock_by_default = true
    repeat_rate        = 20
    repeat_delay       = 300

    # Focus
    follow_mouse       = 1

    # Mouse
    accel_profile      = flat
    natural_scroll     = false
    sensitivity        = 0.1

    touchpad {
        disable_while_typing    = false
        middle_button_emulation = true
        natural_scroll          = false
        tap-to-click            = true
    }
}

device:elan1203:00-04f3:307a-touchpad {
    accel_profile           = adaptive
    sensitivity             = 0.6
}
# }}}

# {{{ Decorations
decoration {
    # Border corner rounding
    rounding               = 10

    # Blur
    blur                   = true
    blur_size              = 5
    blur_passes            = 1
    blur_new_optimizations = true

    # Shadows
    drop_shadow            = true
    shadow_range           = 4
    shadow_render_power    = 3
    col.shadow             = rgba(1a1a1aee)

    # Window dimming
    dim_inactive           = false
    dim_strength           = 0.2
}
# }}}

# {{{ Animations
animations {
    enabled = true
}
# }}}

# {{{ Touchpad gestures
gestures {
    workspace_swipe          = true
    workspace_swipe_fingers  = 4
    workspace_swipe_distance = 800
    workspace_swipe_forever  = false
    workspace_swipe_numbered = true
}
# }}}

# {{{ Miscellaneous
misc {
    disable_hyprland_logo  = true
    animate_manual_resizes = true
}
# }}}

# {{{ Master tiling layout settings
master {
    allow_small_split = true
    new_is_master  = false
    mfact          = 0.5
    orientation    = left
}
# }}}

# {{{ Dwindle tiling layout settings
dwindle {
    force_split    = 2    # kinda spiral tiling layout
    preserve_split = true
}
# }}}

# {{{ Keybinds
# Variable for main modkey
$mod = SUPER

# {{{ Applications
bind  = $mod,            return,    exec,            kitty               # terminal
bind  = $mod,            space,     exec,            fuzzel              # runner
bind  = $mod,            e,         exec,            dolphin             # file manager
bind  = ,                print,     exec,            grim                # screenshot
bind  = $mod,            backslash, exec,            neovide --multigrid # neovide
bind  = $mod_SHIFT,      backslash, exec,            kitty -e nvim       # neovim in kitty
# }}}

# {{{ Media keys
# {{{ Volume keys
binde = ,                XF86AudioRaiseVolume,  exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ 0 & wpctl set-volume --limit 1.5 @DEFAULT_AUDIO_SINK@ 5%+ & canberra-gtk-play --file ~/.local/share/sounds/freedesktop/audio-volume-change.oga & dunstify --appname "Volume" --urgency normal --icon audio-volume-high --hints string:x-dunst-stack-tag:volumecontrol -h int:value:"$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | sed 's/^[^=]*\.//')" "$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | sed 's/^[^=]*\.//')%"

binde = ,                XF86AudioLowerVolume,  exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ 0 & wpctl set-volume --limit 1.5 @DEFAULT_AUDIO_SINK@ 5%- & canberra-gtk-play --file ~/.local/share/sounds/freedesktop/audio-volume-change.oga & dunstify --appname "Volume" --urgency normal --icon audio-volume-high --hints string:x-dunst-stack-tag:volumecontrol -h int:value:"$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | sed 's/^[^=]*\.//')" "$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | sed 's/^[^=]*\.//')%"

bind  = ,                XF86AudioMute,         exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind  = ,                XF86AudioMute,         exec, dunstify --appname "Volume" --urgency normal --icon audio-volume-high --hints string:x-dunst-stack-tag:volumecontrol -h int:value:"0" "Mute"
# }}}

# {{{ Microphone keys
binde = SHIFT,           XF86AudioRaiseVolume,  exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ 0 & wpctl set-volume --limit 1.5 @DEFAULT_AUDIO_SOURCE@ 5%+ & dunstify --appname "Microphone" --urgency normal --icon audio-volume-high --hints string:x-dunst-stack-tag:microphonecontrol -h int:value:"$(wpctl get-volume @DEFAULT_AUDIO_SOURCE@ | sed 's/^[^=]*\.//')" "$(wpctl get-volume @DEFAULT_AUDIO_SOURCE@ | sed 's/^[^=]*\.//')%"

binde = SHIFT,            XF86AudioLowerVolume,  exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ 0 & wpctl set-volume --limit 1.5 @DEFAULT_AUDIO_SOURCE@ 5%- & dunstify --appname "Microphone" --urgency normal --icon audio-volume-high --hints string:x-dunst-stack-tag:microphonecontrol -h int:value:"$(wpctl get-volume @DEFAULT_AUDIO_SOURCE@ | sed 's/^[^=]*\.//')" "$(wpctl get-volume @DEFAULT_AUDIO_SOURCE@ | sed 's/^[^=]*\.//')%"

bind  = SHIFT,            XF86AudioMute,         exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bind  = SHIFT,            XF86AudioMute,         exec, dunstify --appname "Microphone" --urgency normal --icon audio-volume-high --hints string:x-dunst-stack-tag:microphonecontrol -h int:value:"0" "Mute"
# }}}

# {{{ Brightness keys
binde = ,                XF86MonBrightnessUp,   exec, brightnessctl set 5%+ & dunstify --appname "Brightness" --urgency normal --icon audio-volume-high --hints string:x-dunst-stack-tag:brightnesscontrol -h int:value:"$(($(brightnessctl get)*100/96000))" "$(($(brightnessctl get)*100/96000))%"
binde = ,                XF86MonBrightnessDown, exec, brightnessctl set 5%- & dunstify --appname "Brightness" --urgency normal --icon audio-volume-high --hints string:x-dunst-stack-tag:brightnesscontrol -h int:value:"$(($(brightnessctl get)*100/96000))" "$(($(brightnessctl get)*100/96000))%"
# }}}
# }}}

# {{{ Others
bind  = CTRL_SHIFT,      q,         killactive,                          # close
bind  = CTRL_SHIFT_$mod, p,         exec,            nwg-bar             # power menu
bind  = CTRL_ALT,        l,         exec,            swaylock            # lock screen
bind  = $mod,            v,         togglefloating,                      # floating window
bind  = $mod,            m,         fullscreen,      1                   # maximize
bind  = $mod,            f,         fullscreen,      0                   # fullscreen
# }}}

# {{{ Windows
# {{{ Window focus
bind  = $mod,            h,         movefocus,       l
bind  = $mod,            l,         movefocus,       r
bind  = $mod,            k,         movefocus,       u
bind  = $mod,            j,         movefocus,       d
# }}}

# {{{ Window movement
bind  = $mod_SHIFT,      h,         swapwindow,      l
bind  = $mod_SHIFT,      l,         swapwindow,      r
bind  = $mod_SHIFT,      k,         swapwindow,      u
bind  = $mod_SHIFT,      j,         swapwindow,      d
# }}}

# {{{ Window resizing
binde = CTRL_$mod,       h,         splitratio,      -0.03
binde = CTRL_$mod,       l,         splitratio,      0.03
binde = CTRL_$mod,       k,         splitratio,      -0.03
binde = CTRL_$mod,       j,         splitratio,      0.03
# }}}

# {{{ Switch workspaces
bind  = $mod,            1,         workspace,       1
bind  = $mod,            2,         workspace,       2
bind  = $mod,            3,         workspace,       3
bind  = $mod,            4,         workspace,       4
bind  = $mod,            5,         workspace,       5
bind  = $mod,            6,         workspace,       6
bind  = $mod,            7,         workspace,       7
bind  = $mod,            8,         workspace,       8
bind  = $mod,            9,         workspace,       9
bind  = $mod,            0,         workspace,       10
# }}}

# {{{ Move window to workspace
bind  = $mod_SHIFT,      1,         movetoworkspace, 1
bind  = $mod_SHIFT,      2,         movetoworkspace, 2
bind  = $mod_SHIFT,      3,         movetoworkspace, 3
bind  = $mod_SHIFT,      4,         movetoworkspace, 4
bind  = $mod_SHIFT,      5,         movetoworkspace, 5
bind  = $mod_SHIFT,      6,         movetoworkspace, 6
bind  = $mod_SHIFT,      7,         movetoworkspace, 7
bind  = $mod_SHIFT,      8,         movetoworkspace, 8
bind  = $mod_SHIFT,      9,         movetoworkspace, 9
bind  = $mod_SHIFT,      0,         movetoworkspace, 10
# }}}

# {{{ Move/resize windows with mouse
bindm = $mod,            mouse:272, movewindow
bindm = $mod,            mouse:273, resizewindow
# }}}
# }}}

# {{{ Master tiling layout
bind  = $mod,            b,         layoutmsg,       orientationnext
bind  = $mod_SHIFT,      b,         layoutmsg,       orientationprev
bind  = $mod,            v,         layoutmsg,       addmaster
bind  = $mod_SHIFT,      v,         layoutmsg,       removemaster
# }}}
# }}}

# {{{ Window rules
# {{{ Cava
windowrulev2 = float,          class:(kitty),title:(cava)
windowrulev2 = pin,            class:(kitty),title:(cava)
windowrulev2 = noanim,         class:(kitty),title:(cava)
windowrulev2 = noblur,         class:(kitty),title:(cava)
windowrulev2 = noborder,       class:(kitty),title:(cava)
windowrulev2 = nodim,          class:(kitty),title:(cava)
windowrulev2 = nofocus,        class:(kitty),title:(cava)
windowrulev2 = noinitialfocus, class:(kitty),title:(cava)
windowrulev2 = noshadow,       class:(kitty),title:(cava)
windowrulev2 = rounding 0,     class:(kitty),title:(cava)
windowrulev2 = size 100% 50%,  class:(kitty),title:(cava)
windowrulev2 = move 0% 50.2%,  class:(kitty),title:(cava)
# }}}

# {{{ XWayland Video Bridge
windowrulev2 = opacity 0.0 override 0.0 override,class:^(xwaylandvideobridge)$
windowrulev2 = noanim,class:^(xwaylandvideobridge)$
windowrulev2 = nofocus,class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus,class:^(xwaylandvideobridge)$
# }}}
# }}}
